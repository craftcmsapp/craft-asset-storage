{% import "_includes/forms" as forms %}

{{ forms.lightswitchField({
    first: true,
    label: "Inject CSRF tokens using AJAX",
    instructions: "Allows CSRF tokens to be used on statically cached pages. This can collide with similar functionality in other plugins.",
    id: 'injectCors',
    name: 'injectCors',
    on: settings.injectCors
}) }}

{{ forms.selectField({
    label: "Clear Servd's static cache on entry update events",
    instructions: "Clears all cached HTML which has been stored as part of Servd's Static caching mechanism whenever an entry in created or updated",
    options: {
        'never' : 'Never',
        'control-panel' : 'Only entries updated via the Control Panel',
        'always' : 'All entry updates'
    },
    id: 'clearCachesOnSave',
    name: 'clearCachesOnSave',
    value: settings.clearCachesOnSave
}) }}

{{ forms.autosuggestField({
    label: "Overwrite Assets Volume Environment"|t('servd-asset-storage'),
    id: 'assetsEnvironmentOverwrite',
    name: 'assetsEnvironmentOverwrite',
    suggestEnvVars: true,
    value: volume.assetsEnvironmentOverwrite,
    errors: volume.getErrors('assetsEnvironmentOverwrite'),
    instructions: 'Overwrite the automatically detected environment to force a specific one to be used. This will change the path used to upload assets as well as the URLs used to access them. ' ~
    'You should set this to an environment variable as it will be stored in your project config and you probably don\'t want it to be applied to your staging and production environments'
    |t('servd-asset-storage'),
    placeholder: "$SERVD_ASSETS_ENVIRONMENT"|t('servd-asset-storage')
}) }}
